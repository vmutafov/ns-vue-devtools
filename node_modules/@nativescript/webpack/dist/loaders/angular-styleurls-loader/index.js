"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function loader(content, map) {
    var _a;
    let code = content;
    const styleUrls_RE = /styleUrls:\s*\[.+\]/gs;
    // matches a line that starts & ends with the same quotes (captured by the quotes group)
    // and an optional comma at the end
    const styleUrl_RE = /(?<quotes>['"`])([^'"`]+)\k<quotes>,?/gs;
    const [styleUrls] = (_a = styleUrls_RE.exec(content)) !== null && _a !== void 0 ? _a : [];
    if (styleUrls) {
        let replacements = styleUrls;
        let res;
        while (res = styleUrl_RE.exec(styleUrls)) {
            replacements = replacements.replace(res[2], `${res[2]}?component=true`);
        }
        code = content.replace(styleUrls, replacements);
    }
    this.callback(null, code, map);
}
exports.default = loader;
//# sourceMappingURL=index.js.map