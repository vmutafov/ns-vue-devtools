import { InjectionToken, NgModule } from '@angular/core';
import { SocketIO } from '@triniwiz/nativescript-socketio';
export const SOCKETIO_URL = new InjectionToken('SOCKETIO_URL');
export const SOCKETIO_OPTIONS = new InjectionToken('SOCKETIO_OPTIONS');
export function socketIOFactory(url, options) {
    return new SocketIO(url, options);
}
export class SocketIOModule {
    static forRoot(url, options = {}) {
        return {
            ngModule: SocketIOModule,
            providers: [
                {
                    provide: SocketIO,
                    useFactory: socketIOFactory,
                    deps: [SOCKETIO_URL, SOCKETIO_OPTIONS]
                },
                { provide: SOCKETIO_URL, useValue: url },
                { provide: SOCKETIO_OPTIONS, useValue: options },
            ]
        };
    }
}
SocketIOModule.decorators = [
    { type: NgModule }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL3RyaW5pd2l6L0Rlc2t0b3AvcGx1Z2lucy9wYWNrYWdlcy9uYXRpdmVzY3JpcHQtc29ja2V0aW8vYW5ndWxhci8iLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQXVCLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM5RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFxQjNELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxJQUFJLGNBQWMsQ0FBUyxjQUFjLENBQUMsQ0FBQztBQUN2RSxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLGNBQWMsQ0FBa0Isa0JBQWtCLENBQUMsQ0FBQztBQUV4RixNQUFNLFVBQVUsZUFBZSxDQUFDLEdBQVcsRUFBRSxPQUF3QjtJQUNqRSxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN0QyxDQUFDO0FBR0QsTUFBTSxPQUFPLGNBQWM7SUFDdkIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFXLEVBQUUsVUFBMkIsRUFBRTtRQUNyRCxPQUFPO1lBQ0gsUUFBUSxFQUFFLGNBQWM7WUFDeEIsU0FBUyxFQUFFO2dCQUNQO29CQUNJLE9BQU8sRUFBRSxRQUFRO29CQUNqQixVQUFVLEVBQUUsZUFBZTtvQkFDM0IsSUFBSSxFQUFFLENBQUMsWUFBWSxFQUFFLGdCQUFnQixDQUFDO2lCQUN6QztnQkFDRCxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRTtnQkFDeEMsRUFBRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRTthQUNuRDtTQUNKLENBQUM7SUFDTixDQUFDOzs7WUFmSixRQUFRIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4sIE1vZHVsZVdpdGhQcm92aWRlcnMsIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTb2NrZXRJTyB9IGZyb20gJ0B0cmluaXdpei9uYXRpdmVzY3JpcHQtc29ja2V0aW8nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElPT3B0aW9ucyB7XG4gICAgY29tcHJlc3M/OiBib29sZWFuO1xuICAgIGRlYnVnPzogYm9vbGVhbjtcbiAgICBxdWVyeT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gICAgY29va2llPzogc3RyaW5nW107XG4gICAgZXh0cmFIZWFkZXJzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgICBmb3JjZU5ldz86IGJvb2xlYW47XG4gICAgZm9yY2VQb2xsaW5nPzogYm9vbGVhbjtcbiAgICBmb3JjZVdlYnNvY2tldHM/OiBib29sZWFuO1xuICAgIGxvZz86IGJvb2xlYW47XG4gICAgcGF0aD86IHN0cmluZztcbiAgICByZWNvbm5lY3RzPzogYm9vbGVhbjtcbiAgICByZWNvbm5lY3RBdHRlbXB0cz86IG51bWJlcjtcbiAgICByZWNvbm5lY3RXYWl0PzogbnVtYmVyOyAvLyBUaW1lIGluIG1pbGxpIHNlY29uZHNcbiAgICBzZWN1cmU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBTb2NrZXRJT09wdGlvbnMgPSBQYXJ0aWFsPElPT3B0aW9ucz47XG5cbmV4cG9ydCBjb25zdCBTT0NLRVRJT19VUkwgPSBuZXcgSW5qZWN0aW9uVG9rZW48c3RyaW5nPignU09DS0VUSU9fVVJMJyk7XG5leHBvcnQgY29uc3QgU09DS0VUSU9fT1BUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxTb2NrZXRJT09wdGlvbnM+KCdTT0NLRVRJT19PUFRJT05TJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzb2NrZXRJT0ZhY3RvcnkodXJsOiBzdHJpbmcsIG9wdGlvbnM6IFNvY2tldElPT3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgU29ja2V0SU8odXJsLCBvcHRpb25zKTtcbn1cblxuQE5nTW9kdWxlKClcbmV4cG9ydCBjbGFzcyBTb2NrZXRJT01vZHVsZSB7XG4gICAgc3RhdGljIGZvclJvb3QodXJsOiBzdHJpbmcsIG9wdGlvbnM6IFNvY2tldElPT3B0aW9ucyA9IHt9KTogTW9kdWxlV2l0aFByb3ZpZGVyczxTb2NrZXRJT01vZHVsZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IFNvY2tldElPTW9kdWxlLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBTb2NrZXRJTyxcbiAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogc29ja2V0SU9GYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiBbU09DS0VUSU9fVVJMLCBTT0NLRVRJT19PUFRJT05TXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBTT0NLRVRJT19VUkwsIHVzZVZhbHVlOiB1cmwgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFNPQ0tFVElPX09QVElPTlMsIHVzZVZhbHVlOiBvcHRpb25zIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgfVxufSJdfQ==