{"version":3,"sources":["../../index.ts"],"names":["SOCKETIO_URL","InjectionToken","SOCKETIO_OPTIONS","socketIOFactory","url","options","SocketIO","SocketIOModule","forRoot","ngModule","providers","provide","useFactory","deps","useValue","NgModule"],"mappings":"ieAsBaA,EAAe,IAAIC,EAAAA,eAAuB,gBAC1CC,EAAmB,IAAID,EAAAA,eAAgC,6BAEpDE,EAAgBC,EAAaC,GACzC,OAAO,IAAIC,EAAAA,SAASF,EAAKC,oBAI7B,SAAAE,YACWA,EAAAC,QAAP,SAAeJ,EAAaC,GACxB,YADwB,IAAAA,IAAAA,EAAA,IACjB,CACHI,SAAUF,EACVG,UAAW,CACP,CACIC,QAASL,EAAAA,SACTM,WAAYT,EACZU,KAAM,CAACb,EAAcE,IAEzB,CAAES,QAASX,EAAcc,SAAUV,GACnC,CAAEO,QAAST,EAAkBY,SAAUT,+BAZtDU,EAAAA","sourcesContent":["import { InjectionToken, ModuleWithProviders, NgModule } from '@angular/core';\nimport { SocketIO } from '@triniwiz/nativescript-socketio';\n\nexport interface IOOptions {\n    compress?: boolean;\n    debug?: boolean;\n    query?: { [key: string]: any };\n    cookie?: string[];\n    extraHeaders?: { [key: string]: any };\n    forceNew?: boolean;\n    forcePolling?: boolean;\n    forceWebsockets?: boolean;\n    log?: boolean;\n    path?: string;\n    reconnects?: boolean;\n    reconnectAttempts?: number;\n    reconnectWait?: number; // Time in milli seconds\n    secure?: boolean;\n}\n\nexport type SocketIOOptions = Partial<IOOptions>;\n\nexport const SOCKETIO_URL = new InjectionToken<string>('SOCKETIO_URL');\nexport const SOCKETIO_OPTIONS = new InjectionToken<SocketIOOptions>('SOCKETIO_OPTIONS');\n\nexport function socketIOFactory(url: string, options: SocketIOOptions) {\n    return new SocketIO(url, options);\n}\n\n@NgModule()\nexport class SocketIOModule {\n    static forRoot(url: string, options: SocketIOOptions = {}): ModuleWithProviders<SocketIOModule> {\n        return {\n            ngModule: SocketIOModule,\n            providers: [\n                {\n                    provide: SocketIO,\n                    useFactory: socketIOFactory,\n                    deps: [SOCKETIO_URL, SOCKETIO_OPTIONS]\n                },\n                { provide: SOCKETIO_URL, useValue: url },\n                { provide: SOCKETIO_OPTIONS, useValue: options },\n            ]\n        };\n    }\n}"]}